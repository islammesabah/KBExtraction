# =========================================================
# üê≥ Container / CUDA / Python
# =========================================================
NVIDIA_CONTAINER_VERSION=24.04
PYTHON_VERSION=3.10
CUDA_VERSION=12.4

# =========================================================
# üî• PyTorch / CUDA runtime knobs
# =========================================================
TORCH_SHOW_SDP_KERNELS=1

# =========================================================
# ü§ó Hugging Face (cache + auth)
# =========================================================
HF_TOKEN=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
HF_HOME=/netscratch/abuali/_cache/huggingface
TRANSFORMERS_CACHE=$HF_HOME/transformers

# =========================================================
# üß† LLM Backend (Groq / HTTP / HF local)
# =========================================================
MODEL_BACKEND=groq
GROQ_API_KEY=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
# choose one (quality vs cost):
GROQ_MODEL=llama-3.1-8b-instant
# GROQ_MODEL=llama-3.3-70b-versatile
# GROQ_MODEL=openai/gpt-oss-20b

# =========================================================
# üï∏Ô∏è Neo4j (Aura) connection
# =========================================================
NEO4J_URI=neo4j+s://15010e8e.databases.neo4j.io
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=uQXFCUdWgjg89V5xMKfzBETh2PLkZSrJta8ezkgvTZM
NEO4J_DATABASE=neo4j

AURA_INSTANCEID=15010e8e
AURA_INSTANCENAME="Free instance"

# =========================================================
# üêû Debugging (SLURM containers)
# =========================================================
DEBUG_PORT=5678
SUPPRESS_WARNINGS=1


# =========================================================
# üöÄ KBDebugger Pipeline (end-to-end)
# =========================================================

# ---------------------------------------------------------
# 1) üîé KG Subgraph Retrieval (Graph Retriever)
# ---------------------------------------------------------
# KB_RETRIEVAL_KEYWORD=bias
KB_RETRIEVAL_KEYWORD=testability
KB_LIMIT_PER_PATTERN=50

# ---------------------------------------------------------
# 2) üìÑ Corpus Ingestion (Chunking + Decomposition)
# ---------------------------------------------------------
# KB_SOURCE_KIND=TEXT
KB_SOURCE_KIND=PDF_CHUNKS
# KB_SOURCE_KIND=PDF_SENTENCES

KB_TEXT_PATH="data/DSA/Fairness, Bias, and Explainability in Data-Driven Systems.txt"
# KB_PDF_PATH="data/SDS/Handout for inspection of examinations.pdf"
KB_PDF_PATH="data/SDS/IEEE-P1522-2004.pdf"

# ---------------------------------------------------------
# 3) üßÆ Vector Similarity Filter (Quality <-> KG Relations)
# ---------------------------------------------------------
KB_ENCODER_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
KB_ENCODER_DEVICE=
KB_NORMALIZE_EMBEDDINGS=true

# Number of nearest KG relations retrieved per candidate quality
KB_QUALITY_TO_KG_TOP_K=5

# Minimum cosine similarity to keep a quality
KB_MIN_SIMILARITY_THRESHOLD=0.55


# ---------------------------------------------------------
# 4) üß† Novelty Comparator (LLM)
# ---------------------------------------------------------
KB_NOVELTY_LLM_MAX_TOKENS=700
KB_NOVELTY_LLM_TEMPERATURE=0.0


# ---------------------------------------------------------
# 5) üß© Triplet Extraction (LLM) + Qualification Policy
# ---------------------------------------------------------
# Which novelty decisions qualify for triplet extraction
KB_TRIPLET_QUALIFY_DECISIONS=PARTIALLY_NEW,NEW

# Batch size for sending qualifying qualities to the extractor
KB_TRIPLET_EXTRACTION_BATCH_SIZE=5


# ---------------------------------------------------------
# 6) üßæ Logging (optional conventions)
# ---------------------------------------------------------
# If you later centralize logging paths, you can introduce:
# KB_LOG_DIR=logs
